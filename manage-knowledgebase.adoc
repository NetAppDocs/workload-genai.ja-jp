---
sidebar: sidebar 
permalink: manage-knowledgebase.html 
keywords: ai, chatbot, managing, knowledge base 
summary: ナレッジベースを作成したら、ナレッジベースの詳細の表示、ナレッジベースの変更、追加のデータソースの統合、ナレッジベースの削除を行うことができます。 
---
= ナレッジベースの管理
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
ナレッジベースを作成したら、ナレッジベースの詳細の表示、ナレッジベースの変更、追加のデータソースの統合、ナレッジベースの削除を行うことができます。



== ナレッジベースに関する情報を表示する

ナレッジベースと統合されているデータソースの設定に関する情報を表示できます。

.手順
. ナビゲーションメニューから* AI *を選択します。
. 表示するナレッジベースを選択します。
+
定義されている場合は、現在使用されているカンバセーションスタータが右側のペインに表示されます。

. ナレッジベースの詳細を表示するには、を選択し image:icon-action.png["オプションボタン"] て*［ナレッジベースの管理］*を選択します。
+
このページには、パブリッシュされたステータス、データソースの埋め込みステータス、埋め込みモード、すべての埋め込みデータソースのリストなどが表示されます。

+
[アクション]メニューを使用すると、変更を加える場合にナレッジベースを管理できます。





== ナレッジベースの編集

一部の設定を変更してナレッジベースを更新したり、データソースを追加または削除したりできます。

ナレッジベースにデータソースを追加、変更、または削除するたびに、データソースを同期してナレッジベースに再インデックス化する必要があります。同期は差分で行われるため、Amazon Bedrockは前回の同期後に追加、変更、または削除されたFSx for ONTAPボリューム内のオブジェクトのみを処理します。

.手順
. ナレッジベースインベントリページで、更新するナレッジベースを選択します。
. を選択し image:icon-action.png["オプションボタン"] 、*[ナレッジベースの管理]*を選択します。
+
このページには、パブリッシュされたステータス、データソースの埋め込みステータス、埋め込みモード、すべての埋め込みデータソースのリストなどが表示されます。

. [アクション]*メニューを選択し、*[ナレッジベースの編集]*を選択します。
. [ナレッジベースの編集]ページでは、ナレッジベースの名前、説明、埋め込みモデル、チャットモデル、および会話スターターを自動的に作成するか手動で作成するかを変更できます。
+
会話の開始に手動モードを使用している場合は、ここでも会話の開始を変更できます。

. 変更が完了したら、*[保存]*を選択します。




== ナレッジベースへのデータソースの追加

追加のデータソースをナレッジベースに埋め込んで、追加の組織データをナレッジベースに取り込むことができます。

.手順
. [ナレッジベース]インベントリページで、データソースを追加するナレッジベースを選択します。
. を選択 image:icon-action.png["オプションボタン"] し、*[Add data source]*を選択します。
. *ファイルシステムを選択*：データソースファイルが存在するFSx for ONTAPファイルシステムを選択し、* Next *を選択します。
. *ボリュームを選択*：データソースファイルが格納されているボリュームを選択し、*[次へ]*を選択します。
+
SMBプロトコルを使用して保存されているファイルを選択する場合は、ドメイン、IPアドレス、ユーザ名、パスワードなどのActive Directory情報を入力する必要があります。

. *データソースを選択*：ファイルを保存した場所に基づいてデータソースの場所を選択します。これは、ボリューム全体、またはボリューム内の特定のフォルダまたはサブフォルダにすることができ、* Next *を選択します。
. * AIパラメータの定義*：*チャンク定義*セクションで、Amazon Bedrockサービスが属するナレッジベースが照会されたときにデータソースコンテンツをチャンクに分割する方法を定義します。現時点では、文のみを選択できます。
. 権限対応*セクション（SMBプロトコルを使用するボリューム上に選択したデータソースがある場合にのみ表示）で、選択を有効または無効にできます。
+
** *有効*:このナレッジベースにアクセスするチャットボットのユーザーは、アクセス権を持つデータソースからのクエリに対する応答のみを取得します。
** *無効*:チャットボットのユーザーは、統合されたすべてのデータソースからコンテンツを使用して応答を受信します。


. [追加]*を選択して、このデータソースをナレッジベースに追加します。


.結果
データソースはナレッジベースに統合されます。



== データソースとナレッジベースを同期する

データソースは1日に1回自動的にナレッジベースと同期されるため、データソースの変更がチャットボットに反映されます。いずれかのデータソースに変更を加え、データをすぐに同期する場合は、オンデマンド同期を実行できます。

同期は増分処理であるため、Amazon Bedrockは前回の同期以降に追加、変更、または削除されたデータソース内のオブジェクトのみを処理します。

.手順
. ナレッジベースインベントリページで、同期するナレッジベースを選択します。
. を選択し image:icon-action.png["オプションボタン"] 、*[ナレッジベースの管理]*を選択します。
. [アクション]*メニューを選択し、*[今すぐスキャン]*を選択します。
+
データソースがスキャンされていることを示すメッセージが表示され、スキャンが完了すると最終的なメッセージが表示されます。



.結果
ナレッジベースは添付されたデータソースと同期され、アクティブなチャットボットはデータソースからの最新情報を使用し始めます。



== ナレッジベースを作成する前にチャットモデルを評価する

ナレッジベースを作成する前に、利用可能な基本チャットモデルを評価して、実装に最適なモデルを確認できます。サポートされるモデルはAWSのリージョンによって異なるため、ナレッジベースを導入するリージョンで使用できるモデルを確認するには、を参照し https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html["AWSのドキュメントページ"^] てください。


NOTE: この機能は、ナレッジベースが作成されていない場合（ナレッジベースインベントリページにナレッジベースが存在しない場合）にのみ使用できます。

.手順
. ナレッジベースのインベントリページから、チャットボットのページの右側にチャットモデルを選択するオプションが表示されます。
. リストからチャットモデルを選択し、プロンプト領域に質問のセットを入力して、チャットボットがどのように応答するかを確認します。
. 複数のモデルを試して、実装に最適なモデルを確認してください。


.結果
ナレッジベースを作成するときは、そのチャットモデルを使用します。



== ナレッジベースの非公開

ナレッジベースを公開してチャットボットアプリケーションと統合できるようにした後、チャットボットアプリケーションからナレッジベースへのアクセスを無効にする場合は、ナレッジベースを非公開にすることができます。

ナレッジベースを非公開にすると、チャットアプリケーションの動作が停止します。ナレッジベースにアクセスできた一意のAPIエンドポイントが無効になります。

.手順
. [ナレッジベース]インベントリページで、非公開にするナレッジベースを選択します。
. を選択し image:icon-action.png["オプションボタン"] 、*[ナレッジベースの管理]*を選択します。
+
このページには、パブリッシュされたステータス、データソースの埋め込みステータス、埋め込みモード、およびすべての埋め込みデータソースのリストが表示されます。

. [アクション（Actions）]メニューを選択し、*[パブリッシュ解除（Unpublish）]*を選択


.結果
ナレッジベースが無効になり、チャットボットアプリケーションからアクセスできなくなります。



== ナレッジベースの削除

ナレッジベースが不要になった場合は、ナレッジベースを削除できます。ナレッジベースを削除すると、そのナレッジベースはWorkload Factoryから削除され、ナレッジベースを使用しているすべてのアプリケーションまたはチャットボットが機能しなくなります。この操作は元に戻すことはできません。

ナレッジベースを削除する場合は、次のアクションを実行して、ナレッジベースに関連付けられているすべてのリソースを完全に削除する必要があります。

* ナレッジベースと関連付けられているエージェントの関連付けを解除します。
* ナレッジベースからインデックス付けされた基になるデータは、設定したベクターストアに残り、取得することができます。データを削除するには、データ埋め込みを含むベクターインデックスも削除する必要があります。


.手順
. ナレッジベースインベントリページで、削除するナレッジベースを選択します。
. を選択し image:icon-action.png["オプションボタン"] 、*[ナレッジベースの管理]*を選択します。
. [アクション]メニューを選択し、*[ナレッジベースの削除]*を選択します。
. [ナレッジベースの削除]ダイアログで、削除することを確認し、*[削除]*を選択します。


.結果
ナレッジベースがWorkload Factoryから削除されます。
